<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // 概念：闭包是指有权访问另一个函数作用域中的变量的函数 - 红宝书
        // 形成条件： 至少两个函数，嵌套关系，内部函数需要访问外部函数的变量/常量
        debugger;

        function fn1(){
            let num = 10;
            function fn2(){
                num++;
                console.log(num);
            }
            // !! 返回了 fn2 函数的内存地址
            return fn2;
        }

        let res = fn1();    // res 接收了 fn2 函数的内存地址
        // fn1 整个活动对象被保留了下来，没有被垃圾回收
        // 所以每一次调用的时候，其实访问的是同一个活动对象上的 num 变量。
        // 每次访问的时候 num 都被累加了
        res();  // 11
        res();  // 12
        res();  // 13
        res();  // 14
        res();  // 15
        // console.log(r1);        // r1保存的是函数 fn2 的内存地址
        


        // 闭包价值：闭包可以让你从内部函数访问外部函数作用域。

    </script>
</body>
</html>